class chatBox{constructor(e){this.user_email=e,this.socket=io.connect("http://localhost:5000"),this.user_email&&this.connectionHandler()}connectionHandler(){let e=this;e.socket.on("connect",(function(){console.log("Connection established between sockets")})),e.socket.emit("join_room",{email:e.user_email,chatroom:"codeial"}),e.socket.on("user_joined",(function(e){console.log(e+" has added to chat room")})),$("#input-message").submit((function(s){s.preventDefault(),e.socket.emit("send-message",{message:$("#input-message input").val(),email:e.user_email,chatroom:"codeial"})})),e.socket.on("receive-message",(function(s){let o=$("<li>");o.append(`<span>${s.message}</span>`),s.email==e.user_email?o.addClass("self-message"):(o.append($(`<sub>${s.email}</sub>`)),o.addClass("other-message")),$("#messages").append(o)}))}}